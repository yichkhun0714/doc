---
title: Java基础 - 运算符和表达式
---
Java是一种基于对象的编程语言，它支持各种运算符和表达式。在Java中，运算符是一种用于执行某种操作的符号。表达式是一种由运算符和操作数组成的语句。在下面的文本中，我们将对Java运算符和表达式进行详细介绍。

## Java运算符

Java中的运算符可以分为以下几类：

### 算术运算符

算术运算符用于执行基本的算术运算。下面是一些Java中的算术运算符：

- `+` 加法：将两个值相加
- `-` 减法：从第一个值中减去第二个值
- `*` 乘法：将两个值相乘
- `/` 除法：将第一个值除以第二个值
- `%` 取余：返回第一个值除以第二个值的余数

```java
int a = 10;
int b = 3;

// 加法运算
int result1 = a + b; // 13
// 减法运算
int result2 = a - b; // 7
// 乘法运算
int result3 = a * b; // 30
// 除法运算
int result4 = a / b; // 3
// 取余运算
int result5 = a % b; // 1
```
:::tip
需要注意的是，当进行整数除法时，如果除数为0，会抛出一个 `ArithmeticException` 异常；当进行取余运算时，如果除数为0，同样会抛出一个 `ArithmeticException` 异常。
:::


### 赋值运算符
赋值运算符用于将值赋给变量。下面是一些Java中的赋值运算符：

- `=` 等于：将右侧的值赋给左侧的变量
- `+=` 加等于：将右侧的值加到左侧的变量上，并将结果赋给左侧的变量
- `-=` 减等于：从左侧的变量中减去右侧的值，并将结果赋给左侧的变量
- `*=` 乘等于：将左侧的变量乘以右侧的值，并将结果赋给左侧的变量
- `/=` 除等于：将左侧的变量除以右侧的值，并将结果赋给左侧的变量
- `%=` 取余等于：将左侧的变量除以右侧的值的余数，并将结果赋给左侧的变量

```java
int a = 10;
int b = 20;
int c = 0;

// 简单赋值运算符（=）
c = a + b; // c的值为30
// 加法赋值运算符（+=）
c += a; // 等同于c = c + a，c的值为40
// 减法赋值运算符（-=）
c -= a; // 等同于c = c - a，c的值为30
// 乘法赋值运算符（*=）
c *= a; // 等同于c = c * a，c的值为300
// 除法赋值运算符（/=）
c /= a; // 等同于c = c / a，c的值为30
// 模数赋值运算符（%=）
c %= a; // 等同于c = c % a，c的值为0
// 左移赋值运算符（<<=）
c <<= 2; // 等同于c = c << 2，c的值为0
// 右移赋值运算符（>>=）
c >>= 2; // 等同于c = c >> 2，c的值为0
// 无符号右移赋值运算符（>>>=）
c >>>= 2; // 等同于c = c >>> 2，c的值为0
// 按位与赋值运算符（&=）
c &= a; // 等同于c = c & a，c的值为0
// 按位或赋值运算符（|=）
c |= a; // 等同于c = c | a，c的值为10
// 按位异或赋值运算符（^=）
c ^= a; // 等同于c = c ^ a，c的值为0
```

### 自增自减运算符
自增自减运算符是一种特殊的运算符，在Java中用于对变量进行自增或自减操作。自增运算符用两个加号表示（++），自减运算符用两个减号表示（--）。

当对一个变量进行自增或自减操作时，变量的值会相应地增加或减少1。自增自减运算符可以作为前缀或后缀使用，分别表示先运算再使用变量或先使用变量再运算。例如：

```java 
int a = 5;
int b = ++a; // 先将a自增，再将其值赋给b
System.out.println(a); // 输出6
System.out.println(b); // 输出6

int c = 5;
int d = c++; // 先将c的值赋给d，再将c自增
System.out.println(c); // 输出6
System.out.println(d); // 输出5
```
::: tip
注意，自增自减运算符只能用于变量，不能用于常量。此外，如果在表达式中同时使用前缀和后缀自增自减运算符，其运算顺序是由编译器决定的，应尽量避免这种情况的出现。
:::

### 关系运算符
关系运算符用于比较两个值之间的关系，并返回一个布尔值。下面是一些Java中的关系运算符：

- `==` 等于：如果两个值相等，则返回true；否则返回false
- `!=` 不等于：如果两个值不相等，则返回true；否则返回false
- `>` 大于：如果左侧的值大于右侧的值，则返回true；否则返回false
- `<` 小于：如果左侧的值小于右侧的值，则返回true；否则返回false
- `>=` 大于等于：如果左侧的值大于或等于右侧的值，则返回true；否则返回false
- `<=` 小于等于：如果左侧的值小于或等于右侧的值，则返回true；否则返回false

```java
int a = 10;
int b = 3;

// 小于运算
boolean result1 = a < b; // false
// 小于等于运算
boolean result2 = a <= b; // false
// 大于运算
boolean result3 = a > b; // true
// 大于等于运算
boolean result4 = a >= b; // true
// 等于运算
boolean result5 = a == b; // false
// 不等于运算
boolean result6 = a != b; // true
```

### 逻辑运算符
逻辑运算符用于执行布尔逻辑运算，并返回一个布尔值。下面是一些Java中的逻辑运算符：

- `&&` 逻辑与：如果左右两侧的表达式都为true，则返回true；否则返回false
- `||` 逻辑或：如果左右两侧的表达式有一个为true，则返回true；否则返回false
- `!` 逻辑非：如果表达式为true，则返回false；否则返回true

```java
boolean a = true;
boolean b = false;
boolean c = true;

// 逻辑与运算符
boolean result1 = a && b; // false
boolean result2 = a && c; // true
// 逻辑或运算符
boolean result3 = a || b; // true
boolean result4 = b || c; // true
// 逻辑非运算符
boolean result5 = !a; // false
boolean result6 = !b; // true
```

### 位运算符
位运算符用于执行二进制位运算，并返回一个整数值。下面是一些Java中的位运算符：

- `&` 按位与：对两个数的二进制表示执行按位与运算
- `|` 按位或：对两个数的二进制表示执行按位或运算
- `^` 按位异或：对两个数的二进制表示执行按位异或运算
- `~` 按位取反：对一个数的二进制表示执行按位取反运算
- `<<` 左移：将一个数的二进制表示向左移动指定的位数
- `>>` 右移：将一个数的二进制表示向右移动指定的位数
- `>>>` 无符号右移：将一个数的二进制表示向右移动指定的位数，空位用0填充

```java
int a = 60; // 0011 1100
int b = 13; // 0000 1101
int c = 0;

// 按位与运算符（&）
c = a & b; // 0000 1100，结果为12
// 按位或运算符（|）
c = a | b; // 0011 1101，结果为61
// 按位异或运算符（^）
c = a ^ b; // 0011 0001，结果为49
// 按位取反运算符（~）
c = ~a; // 1100 0011，结果为-61
// 左移运算符（<<）
c = a << 2; // 1111 0000，结果为240
// 右移运算符（>>）
c = a >> 2; // 0000 1111，结果为15
// 无符号右移运算符（>>>）
c = a >>> 2; // 0000 1111，结果为15
```

::: tip
需要注意的是，按位取反运算符(~)的结果为负数，这是因为Java中的整数类型采用了补码表示方式。此外，左移运算符(<<)和右移运算符(>>)都是带符号位移，即移动过程中保留符号位，无符号右移运算符(>>>)则是不带符号位移。
:::


### 条件运算符
条件运算符（也称为三元运算符）是Java中唯一一个需要三个操作数的运算符，其基本语法为：
```java 
boolean_expression ? value1 : value2
```
其中，`boolean_expression` 是一个布尔表达式，如果其值为 `true`，则整个表达式的值为 `value1`，否则为 `value2`。
例如：
```java 
int a = 5;
int b = 10;
int max = (a > b) ? a : b; // 如果a > b，则max的值为a，否则为b
System.out.println(max); // 输出10
```
条件运算符可以用来简化一些条件语句的写法，例如在对一个变量赋值时根据条件选择不同的值。需要注意的是，条件运算符也是一个有返回值的表达式，因此可以在需要一个值的表达式中使用它。


## Java表达式
Java表达式是由操作数、运算符和操作符优先级组成的式子，用于计算并得到一个值。

Java中的表达式可以分为以下几类：
- 赋值表达式：用于给变量赋值，例如：
```java 
int x = 10;
```
- 算术表达式：包含了算术运算符和操作数，例如：
```java 
int y = x + 5;
```
- 关系表达式：包含了关系运算符和操作数，例如：
```java 
boolean b = x > y;
```
- 逻辑表达式：包含了逻辑运算符和操作数，例如：
```java 
boolean b = x > y && y < z;
```
- 条件表达式：包含了条件运算符和操作数，例如：
```java 
int max = x > y ? x : y; 
```
- 方法调用表达式：调用一个方法并返回其返回值，例如：
```java 
int len = "hello".length(); //5
```
在Java中，表达式的执行顺序由操作符的优先级和结合性决定。

优先级高的运算符会先被执行，结合性为左结合的运算符从左到右执行，结合性为右结合的运算符从右到左执行。如果需要改变运算符的执行顺序，可以使用圆括号来改变优先级。